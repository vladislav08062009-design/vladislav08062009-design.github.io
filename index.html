<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –æ–ø—Ä–æ—Å</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: white;
}

.container {
    max-width: 800px;
    margin: auto;
    padding: 20px;
}

h1 {
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.question {
    background: rgba(255,255,255,0.1);
    padding: 20px;
    border-radius: 15px;
    margin-bottom: 20px;
    backdrop-filter: blur(10px);
}

button {
    width: 100%;
    padding: 12px;
    margin: 6px 0;
    border: none;
    border-radius: 8px;
    font-size: 15px;
    cursor: pointer;
    background: #00c853;
    color: white;
    font-weight: bold;
    transition: 0.3s;
}

button:hover {
    background: #00e676;
    transform: scale(1.03);
}

.result {
    margin-top: 5px;
    font-size: 14px;
}

.voted {
    background: #ff5252 !important;
    cursor: not-allowed;
}
</style>
</head>

<body>

<div class="container">
<h1>üèÜ –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –æ–ø—Ä–æ—Å</h1>
<div id="survey"></div>
</div>

<script>

const questions = [
{
    question: "–ö–∞–∫ —á–∞—Å—Ç–æ —Ç—ã –∑–∞–Ω–∏–º–∞–µ—à—å—Å—è —Å–ø–æ—Ä—Ç–æ–º?",
    options: ["1-3 —Ä–∞–∑–∞", "4-5 —Ä–∞–∑", "5 –∏ –±–æ–ª–µ–µ"]
},
{
    question: "–ö–∞–∫–∏–º —Å–ø–æ—Ä—Ç–æ–º —Ç—ã –∑–∞–Ω–∏–º–∞–µ—à—å—Å—è?",
    options: ["–í–æ–ª–µ–π–±–æ–ª, –±–∞—Å–∫–µ—Ç–±–æ–ª", "–§—É—Ç–±–æ–ª, —Ö–æ–∫–∫–µ–π", "–î—Ä—É–≥–æ–µ"]
},
{
    question: "–ù—Ä–∞–≤–∏—Ç—Å—è –ª–∏ —Ç–µ–±–µ —Ö–æ–¥–∏—Ç—å –Ω–∞ —ç—Ç–æ—Ç –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞?",
    options: ["–î–∞", "–°–∫–æ—Ä–µ–µ –¥–∞", "–°–∫–æ—Ä–µ–µ –Ω–µ—Ç", "–ù–µ—Ç"]
},
{
    question: "–ö–∞–∫ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å —Å–µ–±—è –ø–æ—Å–ª–µ –∑–∞–Ω—è—Ç–∏–π —Ñ–∏–∑—Ä–æ–π?",
    options: ["–•–æ—Ä–æ—à–æ, –≤–µ—Å–µ–ª–æ", "–ù–æ—Ä–º–∞–ª—å–Ω–æ", "–ù–µ –æ—á–µ–Ω—å", "–ü–ª–æ—Ö–æ"]
},
{
    question: "–ù—Ä–∞–≤–∏—Ç—Å—è –ª–∏ —Ç–µ–±–µ –∑–∞–Ω—è—Ç–∏—è —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä—ã?",
    options: ["–î–∞", "–ù–µ—Ç"]
},
{
    question: "–ö–∞–∫–∏–µ —ç–º–æ—Ü–∏–∏ –≤—ã–∑—ã–≤–∞–µ—Ç —É —Ç–µ–±—è —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–∞ –∏ –∑–∞–Ω—è—Ç–∏—è —Å–ø–æ—Ä—Ç–æ–º?",
    options: ["–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ", "–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ", "–ù–∏–∫–∞–∫–∏–µ"]
}
];

let votes = JSON.parse(localStorage.getItem("votes")) || {};
let voted = JSON.parse(localStorage.getItem("voted")) || {};

function initSurvey() {
    const surveyDiv = document.getElementById("survey");

    questions.forEach((q, index) => {

        if (!votes[index]) {
            votes[index] = new Array(q.options.length).fill(0);
        }

        const questionDiv = document.createElement("div");
        questionDiv.classList.add("question");

        const title = document.createElement("h3");
        title.textContent = q.question;
        questionDiv.appendChild(title);

        q.options.forEach((option, i) => {

            const btn = document.createElement("button");
            btn.textContent = option;

            if (voted[index]) {
                btn.disabled = true;
                btn.classList.add("voted");
            }

            btn.onclick = () => {
                if (!voted[index]) {
                    votes[index][i]++;
                    voted[index] = true;

                    localStorage.setItem("votes", JSON.stringify(votes));
                    localStorage.setItem("voted", JSON.stringify(voted));

                    updateSurvey();
                }
            };

            questionDiv.appendChild(btn);
        });

        const resultsDiv = document.createElement("div");

        votes[index].forEach((count, i) => {
            const resultLine = document.createElement("div");
            resultLine.classList.add("result");
            resultLine.textContent =
                q.options[i] + " ‚Äî –ì–æ–ª–æ—Å–æ–≤: " + count;
            resultsDiv.appendChild(resultLine);
        });

        questionDiv.appendChild(resultsDiv);
        surveyDiv.appendChild(questionDiv);
    });
}

function updateSurvey() {
    document.getElementById("survey").innerHTML = "";
    initSurvey();
}

initSurvey();

</script>

</body>
</html>
